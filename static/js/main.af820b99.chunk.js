(this["webpackJsonpreact-dev-demo"]=this["webpackJsonpreact-dev-demo"]||[]).push([[0],{100:function(e,t,a){e.exports=a(159)},105:function(e,t,a){},107:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(17),l=a.n(o),r=(a(105),a(106),a(7)),c=a(6),s=(a(107),a(10)),d=a(8),u=a(170),m=a(168),f=a(88),g=a(169),p=a(89),h=a(176),v=a(86),E=a(167);h.a.registerLanguage("jsx",v.a);var b=function(e){var t=e.className,a=e.codeString;return i.a.createElement("div",{className:t},i.a.createElement(h.a,{language:"javascript",style:E.a,showLineNumbers:!0},a))},y=a(21),S=a(172),C={envId:"bn1ab7m56qolupi5sa0g",fetchNow:!0,decisionMode:"API",pollingInterval:60,timeout:2,enableConsoleLogs:!0,enableErrorLayout:!0,enableSafeMode:!0,nodeEnv:"production",flagshipApi:"https://decision.flagship.io/v2/",apiKey:"M2FYdfXsJ12tjJQuadw7y9DZojqNGBvecpjGXY93",visitorData:{id:"test-vid",context:{isAwesome:!1,isEvil:!1}},sandbox:{config:{fetchNow:!0,enableSafeMode:!0,enableConsoleLogs:!0,enableErrorLayout:!0},envId:["bn1ab7m56qolupi5sa0g_fake_1","bn1ab7m56qolupi5sa0g_fake_2"],nodeEnv:["production","development"],pollingInterval:[10,60,120,300],decisionMode:["API","Bucketing"],timeout:[.01,.5,1,2],flagshipApi:["https://decision.flagship.io/v2/","https://decision-api.flagship.io/v1/"],visitorId:["test-vid","test-vid_2","test-vid_3"]}},F=function(e){var t=e(k());return t&&t.constructor!==Object?{success:!1,message:"the new payload is not an object"}:(null===t?localStorage.removeItem("fsDevDemo"):localStorage.setItem("fsDevDemo",JSON.stringify(t)),{success:!0,message:"ok"})},k=function(){var e=localStorage.getItem("fsDevDemo");return e?JSON.parse(e):null},w=function(){var e,t=Object(n.useContext)(de),a=t.currentSettings,o=t.setSettings,l=i.a.useState(Object(c.a)({},a)),s=Object(r.a)(l,2),u=s[0],m=s[1],f=function(e,t){m(Object(c.a)({},u,Object(y.a)({},t,"pollingInterval"===t?parseInt(e.target.value.split(" min")[0]):"timeout"===t?parseFloat(e.target.value.split(" second(s)")[0]):e.target.value)))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,null,i.a.createElement(S.a.Group,{controlId:"initForm.Control1.1",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"envId: "),i.a.createElement(S.a.Control,{type:"text",className:"fsTextField",onChange:function(e){return f(e,"envId")},value:u.envId,placeholder:u.apiKey||"this field is required !"})),i.a.createElement(S.a.Group,{controlId:"initForm.Control1.11",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"nodeEnv: "),i.a.createElement(S.a.Control,{as:"select",onChange:function(e){return f(e,"nodeEnv")}},i.a.createElement("option",{key:u.nodeEnv},u.nodeEnv),C.sandbox.nodeEnv.filter((function(e){return e!==u.nodeEnv})).map((function(e){return i.a.createElement("option",{key:e},e)})))),i.a.createElement(S.a.Group,{controlId:"initForm.Control1.22",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"flagshipApi: "),i.a.createElement(S.a.Control,{as:"select",onChange:function(e){return f(e,"flagshipApi")}},i.a.createElement("option",{key:u.flagshipApi},u.flagshipApi),C.sandbox.flagshipApi.filter((function(e){return e!==u.flagshipApi})).map((function(e){return i.a.createElement("option",{key:e},e)})))),i.a.createElement(S.a.Group,{controlId:"initForm.Control1.23",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"apiKey: "),i.a.createElement(S.a.Control,{type:"text",className:"fsTextField",onChange:function(e){return f(e,"apiKey")},placeholder:u.apiKey||"null"})),i.a.createElement(S.a.Group,{controlId:"initForm.Control1.21",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"decisionMode: "),i.a.createElement(S.a.Control,{as:"select",onChange:function(e){return f(e,"decisionMode")}},i.a.createElement("option",{key:u.decisionMode},u.decisionMode),C.sandbox.decisionMode.filter((function(e){return e!==u.decisionMode})).map((function(e){return i.a.createElement("option",{key:e},e)})))),"Bucketing"===u.decisionMode&&i.a.createElement(S.a.Group,{controlId:"initForm.Control1.21",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"pollingInterval: "),i.a.createElement(S.a.Control,{as:"select",onChange:function(e){return f(e,"pollingInterval")}},i.a.createElement("option",{key:"pollingInterval"+(null===(e=u.pollingInterval)||void 0===e?void 0:e.toString())},u.pollingInterval," secondes"),C.sandbox.pollingInterval.filter((function(e){return e!==u.pollingInterval})).map((function(e){return i.a.createElement("option",{key:e},e," secondes")})))),i.a.createElement(S.a.Group,{controlId:"initForm.Control1.23",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"timeout: "),i.a.createElement(S.a.Control,{as:"select",onChange:function(e){return f(e,"timeout")}},i.a.createElement("option",{key:u.timeout},u.timeout," second(s)"),C.sandbox.timeout.filter((function(e){return e!==u.timeout})).map((function(e){return i.a.createElement("option",{key:e},e," second(s)")})))),Object.keys(Object(c.a)({},C.sandbox.config)).map((function(e){return i.a.createElement(S.a.Group,{controlId:e+"Form",key:e},i.a.createElement(S.a.Check,{type:"checkbox",checked:!!u[e]||!1,onChange:function(t){var a=Object(c.a)({},u,Object(y.a)({},e,t.currentTarget.checked));"boolean"!==typeof u[e]&&delete a[e],m(a)},label:"".concat(e,"=").concat(u[e])}))}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i.a.createElement(p.a,{variant:"secondary",onClick:function(){o(Object(c.a)({},u,{apiKey:u.apiKey||null})),d.NotificationManager.info("Settings updated")}},"Apply change"),i.a.createElement(p.a,{className:"PrimaryBtn ml3",onClick:function(){F((function(){return Object(c.a)({},u,{apiKey:u.apiKey||null})})).success?d.NotificationManager.info("Settings saved in local storage"):d.NotificationManager.error("Unable to save settings in local storage")}},"Save in local storage")),i.a.createElement("div",null,"Since we have set those settings:"),i.a.createElement(b,{className:"mv3",codeString:"".concat(JSON.stringify(a,null,2))}),i.a.createElement("div",null,"When you change those values, you can notice the behavior of the SDK, on logs & network."),i.a.createElement("div",{className:"mb5"},"It will impact the output of Flagship SDK Hooks as well, take a look below."))},I=function(){var e=Object(n.useContext)(de),t=e.currentSettings,a=e.setSettings,o=i.a.useState(Object(c.a)({},t)),l=Object(r.a)(o,2),s=l[0],u=l[1],m=function(e){var t=JSON.parse(e.currentTarget.parentElement.innerText),a=Object(c.a)({},s);if(e.currentTarget.checked)u(Object(c.a)({},s,{visitorData:Object(c.a)({},s.visitorData,{context:Object(c.a)({},s.visitorData.context,Object(y.a)({},Object.keys(t)[0],!0))})}));else{var n=Object.keys(t)[0];u(Object(c.a)({},s,{visitorData:Object(c.a)({},s.visitorData,{context:Object.entries(a.visitorData.context).reduce((function(e,t){var a=Object(r.a)(t,2),i=a[0],o=a[1];return i===n?Object.keys(C.visitorData.context).includes(n)?Object(c.a)({},e,Object(y.a)({},i,!1)):e:Object(c.a)({},e,Object(y.a)({},i,o))}),{})})}))}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,null,i.a.createElement(S.a.Group,{controlId:"initForm.ControlSelect2",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"visitorId: "),i.a.createElement(S.a.Control,{type:"text",className:"fsTextField",onChange:function(e){var t;return u(Object(c.a)({},s,{visitorData:Object(c.a)({},s.visitorData,{id:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value})}))},value:s.visitorData.id,placeholder:s.visitorData.id||"this field is required !"})),i.a.createElement("div",{className:"fsAnchor",id:"playWithVisitorContext"}),i.a.createElement(S.a.Group,{controlId:"initForm.ControlSelect3"},i.a.createElement(S.a.Label,null,"visitor context"),Object.entries(Object(c.a)({},C.visitorData.context,{},s.visitorData.context)).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return i.a.createElement(S.a.Check,{key:a,type:"checkbox",id:"default-".concat(a),checked:!!s.visitorData.context.hasOwnProperty(a)&&!!n,onChange:m,label:JSON.stringify(Object(y.a)({},a,n))})})))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i.a.createElement(p.a,{variant:"secondary",onClick:function(){a(Object(c.a)({},s)),d.NotificationManager.info("Settings updated")}},"Apply change")))},O=a(97),N=a(19),j=a(15),x=a(14),M=a.n(x),A=function(){var e=Object(n.useContext)(de),t=e.currentSettings,a=e.setSettings,o=i.a.useState(!1),l=Object(r.a)(o,2),s=l[0],u=l[1];return i.a.createElement(N.a,{initialValues:{saveLocalStorage:!1,envId:t.envId,settings:{fetchNow:t.fetchNow,activateNow:t.activateNow,decisionMode:t.decisionMode,enableConsoleLogs:t.enableConsoleLogs,enableErrorLayout:t.enableErrorLayout,enableSafeMode:t.enableSafeMode,nodeEnv:t.nodeEnv,flagshipApi:t.flagshipApi,apiKey:t.apiKey,initialModifications:t.initialModifications}},validate:function(e){var t={};return e.envId||(t.envId="Required"),t},onSubmit:function(e,n){var i=n.setSubmitting,o=e.saveLocalStorage,l=Object(O.a)(e,["saveLocalStorage"]);i(!1);var r=Object(c.a)({},t,{envId:l.envId},l.settings);a(r),d.NotificationManager.info("Settings updated"),o&&F((function(){return r})).success?d.NotificationManager.info("Settings saved in local storage"):F((function(){return null}))}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.setFieldValue),o=e.values,l=e.touched,r=(e.isValid,e.errors);return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"envIdForm"},i.a.createElement(S.a.Label,null,"Environment ID"),i.a.createElement(S.a.Control,{type:"text",name:"envId",value:o.envId,onChange:a,isValid:l.envId&&!r.envId,isInvalid:!!r.envId}),i.a.createElement(S.a.Control.Feedback,{type:"invalid"},r.envId)),i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,"SDK settings props"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"settings",placeholder:o.settings,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?u(!0):(n("settings",a||{},!0),u(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement(S.a.Group,{controlId:"localStorageCheckbox"},i.a.createElement(S.a.Label,null,"Save those settings in local storage ?"),i.a.createElement(S.a.Check,{type:"checkbox",checked:o.saveLocalStorage,onChange:function(e){return n("saveLocalStorage",e.currentTarget.checked)},label:o.saveLocalStorage?"Yes.":"Nope."})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:s,variant:"secondary",type:"submit",style:{cursor:s?"not-allowed":"pointer"}},"Apply change")))}))},L=function(){var e=Object(n.useContext)(de),t=e.currentSettings,a=e.setSettings,o=i.a.useState(!1),l=Object(r.a)(o,2),s=l[0],u=l[1];return i.a.createElement(N.a,{initialValues:{vId:t.visitorData.id,vContext:t.visitorData.context},validate:function(e){var t={};return e.vId||(t.vId="Required"),t},onSubmit:function(e,n){(0,n.setSubmitting)(!1),a(Object(c.a)({},t,{visitorData:{id:e.vId,context:e.vContext||{}}})),d.NotificationManager.info("Settings updated")}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.setFieldValue),o=e.values,l=e.touched,r=(e.isValid,e.errors);return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"validationFormik01"},i.a.createElement(S.a.Label,null,"Visitor ID"),i.a.createElement(S.a.Control,{type:"text",name:"vId",value:o.vId,onChange:a,isValid:l.vId&&!r.vId,isInvalid:!!r.vId}),i.a.createElement(S.a.Control.Feedback,{type:"invalid"},r.vId)),i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"validationFormik02"},i.a.createElement(S.a.Label,null,"Visitor Context"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"a_unique_id",placeholder:o.vContext,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?u(!0):(n("vContext",a||{},!0),u(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:s,variant:"secondary",type:"submit",style:{cursor:s?"not-allowed":"pointer"}},"Apply change")))}))},T=function(){var e,t,a="initialization",o=Object(n.useContext)(de),l=o.currentSettings,c=o.QA,s=Object(n.useState)(!0),u=Object(r.a)(s,2),h=u[0],v=u[1];return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:a}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,a),i.a.createElement("p",null,"The ",i.a.createElement("b",null,a)," is proceed with ",i.a.createElement("b",null,"FlagshipProvider"),". In this demo app, it is plugged like so:"),i.a.createElement(b,{className:"mv3",codeString:"import React from 'react';\nimport { FlagshipProvider } from \"@flagship.io/react-sdk\";\n\nconst App: React.FC = () => (\n  <>\n      <FlagshipProvider\n      envId={".concat(l.envId,"}\n      fetchNow={").concat("undefined"===typeof l.fetchNow?"false":l.fetchNow.toString(),"}\n      activateNow={").concat("undefined"===typeof l.activateNow?"false":l.activateNow.toString(),"}\n      enableConsoleLogs={").concat("undefined"===typeof l.enableConsoleLogs?"false":l.enableConsoleLogs.toString(),'}\n      decisionMode="').concat("undefined"===typeof l.decisionMode?"API":l.decisionMode.toString(),'"\n      pollingInterval={').concat("undefined"===typeof l.pollingInterval?"undefined":null===(e=l.pollingInterval)||void 0===e?void 0:e.toString(),"} // minute(s)\n      timeout={").concat("undefined"===typeof l.timeout?"2":null===(t=l.timeout)||void 0===t?void 0:t.toString(),"} // second(s)\n      enableErrorLayout={").concat("undefined"===typeof l.enableErrorLayout?"false":l.enableErrorLayout.toString(),"}\n      enableSafeMode={").concat("undefined"===typeof l.enableSafeMode?"false":l.enableSafeMode.toString(),'}\n      nodeEnv="').concat("undefined"===typeof l.nodeEnv?"undefined":l.nodeEnv.toString(),'"\n      flagshipApi="').concat("undefined"===typeof l.flagshipApi?"undefined":l.flagshipApi.toString(),'"\n      apiKey="').concat(l.apiKey?l.apiKey.toString():"null",'"\n      visitorData=').concat(JSON.stringify(l.visitorData,null,8).slice(0,-2),'\n      }\n      onInitStart={() => {\n        console.log("init start");\n      }}\n      onInitDone={() => {\n        console.log("init done");\n      }}\n      onUpdate={({ fsModifications }) => {\n        console.log(\n            \'React SDK updated with modifications:\' + JSON.stringify(fsModifications)\n        );\n      }}\n      loadingComponent={\n        <Container className="mt3">\n          <Row>\n            <Col xs={12}>Loading Flagship React SDK...</Col>\n          </Row>\n        </Container>\n      }\n    >\n      <Header />\n      <AppContainer />\n    </FlagshipProvider>\n  </>\n);          ')}),i.a.createElement("p",null,"To understand impact of each props, you can change some value dynamically here: "),i.a.createElement("h3",{id:"playWithConfig",style:{borderBottom:"1px solid grey",marginBottom:"16px",paddingBottom:"8px"}},"1 - Playing with ",i.a.createElement("i",null,"sdk settings")),h&&k()&&i.a.createElement("div",{className:"mv3"},i.a.createElement(g.a,{variant:"warning"},i.a.createElement("b",null,"NOTE:")," Some previous settings were found in your local storage.",i.a.createElement(p.a,{className:"ml3",variant:"secondary",onClick:function(){F((function(){return null})).success?d.NotificationManager.info("Settings in local storage deleted"):d.NotificationManager.info("Failed to deleted settings in local storage"),v(!1)}},"Clear settings from local storage"))),c.enabled?i.a.createElement(A,null):i.a.createElement(w,null),i.a.createElement("h3",{style:{borderBottom:"1px solid grey",marginBottom:"16px",paddingBottom:"8px"}},"2 - Playing with ",i.a.createElement("i",null,"visitorData")),c.enabled?i.a.createElement(L,null):i.a.createElement(I,null))))},P=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(s.useFsActivate)(["color","testUnknownKey"],[a]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFsActivate")," hook to trigger activation of a modification when needed:"),i.a.createElement(b,{className:"mv3",codeString:"const [toggle, setToggle] = React.useState(false);\nuseFsActivate(['color','testUnknownKey'], [toggle]);\n\n// {...}\n\n<Button\nvariant=\"secondary\"\nonClick={() => setToggle(!toggle)}\n>\n    Trigger activate\n</Button>"}),i.a.createElement(p.a,{variant:"secondary",onClick:function(){return n(!a)}},"Trigger activate"),i.a.createElement("div",{className:"mv3"},i.a.createElement("p",null,"In this example, we're activating only when ",i.a.createElement("i",null,"toggle")," value has changed as we have specified a 2nd argument in ",i.a.createElement("i",null,"useFsActivate")," hook."),i.a.createElement("p",null,"We also specified in 1st argument that we want to activate 3 keys. For each key, there is 2 possible scenarios:"),i.a.createElement("p",null,'If the key exist, a http request "activate" will be done.'),i.a.createElement("p",null,"If the key does not exist, you will receive a warning log.")))},K=a(36),B=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=i.a.useState(!1),l=Object(r.a)(o,2),c=l[0],d=l[1],u=i.a.useState(["btnColor","otherKey1","otherKey2"]),m=Object(r.a)(u,2),g=m[0],h=m[1];return Object(s.useFsActivate)(g,[c]),i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{initialValues:{modificationToActivate:g},validate:function(e){var t={};return e.modificationToActivate||(t.modificationToActivate="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),h(Object(K.a)(e.modificationToActivate)),d(!c)}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),l=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,"useFsModifications arguments"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"modificationToActivate",placeholder:l.modificationToActivate,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("modificationToActivate",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Trigger activate")))})))},D=function(){var e=Object(n.useContext)(de).QA;return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFsActivate"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFsActivate"),e.enabled?i.a.createElement(B,null):i.a.createElement(P,null))))},V=function(){var e=Object(s.useFsModifications)([{key:"color",defaultValue:"#FF33E3",activate:!1}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFsModifications")," hook to get the modifications:"),i.a.createElement(b,{className:"mv3",codeString:"import { useFsModifications } from '@flagship.io/react-sdk';\nconst fsModifications = useFsModifications([\n    {\n        key: 'color',\n        defaultValue: '#FF33E3', // pink\n        activate: false\n    }\n]);"}),i.a.createElement("p",null,"Output: "),i.a.createElement("div",null,i.a.createElement(p.a,{variant:"secondary",style:{backgroundColor:e.color}},"My color tells my visitor mood (backgroundColor=".concat(e.color,")"))),i.a.createElement("div",{className:"mv3"},"Based on the campaign that we set on Flagship platform, the color of the button will change depending values set in the ",i.a.createElement("a",{href:"#playWithVisitorContext"},"visitor context"),"."),i.a.createElement(b,{className:"mv3",codeString:'<Button\n    variant="secondary"\n    style={{\n        backgroundColor: fsModifications.color\n    }}\n>\n    {`My color tells my visitor mood (backgroundColor=${fsModifications.color})`}\n</Button>'}))},H=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=i.a.useState([{key:"btnColor",defaultValue:"#FF33E3",activate:!1}]),l=Object(r.a)(o,2),c=l[0],d=l[1],u=Object(s.useFsModifications)(c);return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{initialValues:{fsParams:c},validate:function(e){var t={};return e.fsParams||(t.fsParams="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),d(Object(K.a)(e.fsParams))}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),l=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,"useFsModifications arguments"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"fsParams",placeholder:l.fsParams,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("fsParams",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Apply change")))})),i.a.createElement("div",{className:"mv3 b"},"useFsModifications output:"),i.a.createElement("div",{className:"mb3"},i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"fsOutput",placeholder:u,locale:M.a,height:"550px",viewOnly:!0,width:"100%",style:{body:{fontSize:"16px"}}})))},z=function(){var e=Object(n.useContext)(de).QA;return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFsModifications"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFsModifications"),e.enabled?i.a.createElement(H,null):i.a.createElement(V,null))))},G=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=Object(s.useFlagship)().synchronizeModifications;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb3"},i.a.createElement("b",null,"Demo"),":"),i.a.createElement(b,{className:"mv3",codeString:"const { synchronizeModifications } = useFlagship();\n\nreturn (\n    <>\n        <Button\n            onClick={() => {\n                synchronizeModifications(activateAllModifications)\n                    .then((statusCode) => {\n                        if (statusCode < 300) {\n                            // Notify success...\n                        } else {\n                            // Notify failure...\n                        }\n                    })\n                    .catch((error) => {\n                        // Notify error...\n                    });\n            }}\n        >\n            Trigger a synchronize\n        </Button>\n    </>\n)"}),i.a.createElement("div",{className:"mb3"},i.a.createElement("code",null,"synchronizeModifications")," is accessible by extracting it from ",i.a.createElement("code",null,"useFlagship")," hook."),i.a.createElement("div",{className:"mb3"},"Calling ",i.a.createElement("code",null,"synchronizeModifications")," will return a ",i.a.createElement("code",null,"Promise<number>")," in case of you need to ensure that synchronization succeed."),i.a.createElement("div",{className:"mb3"},"The function takes an optional ",i.a.createElement("code",null,"boolean")," argument if you want to activate all campaigns that will be synchronized."),i.a.createElement(S.a,null,i.a.createElement(S.a.Group,{controlId:"demoFsSynchronize.ControlSelect2"},i.a.createElement(S.a.Label,null,"Playing with argument(s)"),i.a.createElement(S.a.Check,{type:"checkbox",checked:a,onChange:function(e){return n(e.currentTarget.checked)},label:"activateAllModifications=".concat(a)}))),i.a.createElement("div",{className:"flex flex-row-reverse"},i.a.createElement(p.a,{variant:"secondary",onClick:function(){o(a).then((function(e){e<300?d.NotificationManager.info("synchronizeModifications success with statusCode="+e):d.NotificationManager.error("synchronizeModifications failed with statusCode="+e)})).catch((function(e){d.NotificationManager.error("synchronizeModifications failed with error="+e.stack)}))}},"Trigger a synchronize")))},R=function(){return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:"campaignsSynchronization"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"Campaigns synchronization"),i.a.createElement(G,null))))},U=a(175),q=function(){var e=Object(s.useFlagship)().hit,t={multipleCodeString:"<Button\n    onClick={() => {\n        const transactionHit = {\n            type: 'Transaction',\n            data: {\n                transactionId: '12451342423',\n                affiliation: 'myAffiliation',\n                totalRevenue: 999,\n                shippingCost: 888,\n                shippingMethod: 'DHL',\n                currency: 'USD',\n                taxes: 1234444,\n                paymentMethod: 'creditCard',\n                itemCount: 2,\n                couponCode: 'myCOUPON',\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'myScreen'\n            }\n        };\n        const eventHit = {\n            type: 'Event',\n            data: {\n                category: 'User Engagement',\n                action: 'signOff',\n                label: 'test label ;)',\n                value: 123,\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'TestTitle'\n            }\n        };\n        fsHit.sendMultiple([transactionHit, eventHit]);\n    }}\n>\n    Send multiple transaction hits\n</Button>",multipleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.sendMultiple([{type:"Transaction",data:{transactionId:"12451342423",affiliation:"myAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"DHL",currency:"USD",taxes:1234444,paymentMethod:"creditCard",itemCount:2,couponCode:"myCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"myScreen"}},{type:"Event",data:{category:"User Engagement",action:"signOff",label:"test label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestTitle"}}])}},"Send multiple mixed hits")},a={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Transaction',\n            data: {\n                transactionId: '12451342423',\n                affiliation: 'myAffiliation',\n                totalRevenue: 999,\n                shippingCost: 888,\n                shippingMethod: 'DHL',\n                currency: 'USD',\n                taxes: 1234444,\n                paymentMethod: 'creditCard',\n                itemCount: 2,\n                couponCode: 'myCOUPON',\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'myScreen'\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a transaction hit\n</Button>",simpleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.send({type:"Transaction",data:{transactionId:"12451342423",affiliation:"myAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"DHL",currency:"USD",taxes:1234444,paymentMethod:"creditCard",itemCount:2,couponCode:"myCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"myScreen"}})}},"Send a transaction hit")},n={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'ScreenView',\n            data: {\n                documentLocation: 'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'TestScreenView',\n            },\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a screenview hit\n</Button>",simpleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.send({type:"ScreenView",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestScreenView"}})}},"Send a screenview hit")},o={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'PageView',\n            data: {\n                documentLocation: 'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'TestPageView',\n            },\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a pageview hit\n</Button>",simpleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.send({type:"PageView",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestPageView"}})}},"Send a pageview hit")},l={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Item',\n            data: {\n              transactionId: '12451342423',\n              name: 'testItem',\n              price: 999,\n              code: 'testCode',\n              category: 'testCategory',\n              quantity: 1234444,\n              documentLocation: 'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n              pageTitle: 'TestScreen',\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a item hit\n</Button>",simpleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.send({type:"Item",data:{transactionId:"12451342423",name:"testItem",price:999,code:"testCode",category:"testCategory",quantity:1234444,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestScreen"}})}},"Send a item hit")},c={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Event',\n            data: {\n                category: 'User Engagement',\n                action: 'signOff',\n                label: 'test label ;)',\n                value: 123,\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'TestTitle'\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a page hit\n</Button>",simpleComponent:i.a.createElement(p.a,{variant:"secondary",onClick:function(){e.send({type:"Event",data:{category:"User Engagement",action:"signOff",label:"test label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestTitle"}})}},"Send a item hit")},d=i.a.useState(a),u=Object(r.a)(d,2),m=u[0],f=u[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb3"},"If you're not familiar with the payload that you should a provide to the hit you want to send, you'll have all details available in the"," ",i.a.createElement("a",{href:"https://github.com/abtasty/flagship-react-sdk#shape-of-possible-hits-to-send"},"SDK Hit documentation"),"."),i.a.createElement("div",null,i.a.createElement("b",null,"NOTE:"),i.a.createElement("p",null,"It is not necessary to provide parameters to ",i.a.createElement("i",null,"useFlagship")," if your purpose is only to send hits."),i.a.createElement(b,{className:"mv3",codeString:"import { useFlagship } from '@flagship.io/react-sdk';\nconst { hit: fsHit } = useFlagship();"})),i.a.createElement("p",null,"Send a hit, demo: "),i.a.createElement(U.a,{variant:"tabs",defaultActiveKey:"hitTransaction"},i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitTransaction",onClick:function(){return f(a)}},"Transaction Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitPageview",onClick:function(){return f(o)}},"Pageview Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitScreenview",onClick:function(){return f(n)}},"Screen Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitEvent",onClick:function(){return f(c)}},"Event Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitItem",onClick:function(){return f(l)}},"Item Hit"))),i.a.createElement(b,{className:"mv3",codeString:m.simpleCodeString}),i.a.createElement("div",null,m.simpleComponent),i.a.createElement("div",{className:"mt3"},"Send multiple mixed hit, demo: "),i.a.createElement(b,{className:"mv3",codeString:t.multipleCodeString}),i.a.createElement("div",null,t.multipleComponent))},W=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mv3"},"This function provides all the data needed to send it to a third party tool."),i.a.createElement(b,{className:"mv3",codeString:"const { getModificationInfo } = useFlagship();\nreturn (\n    <Button\n        onClick={getModificationInfo('color')\n            .then((response) => {\n                // when succeed\n            })\n            .catch((error) => {\n                // when fail\n            })}\n    >\n        Apply change\n    </Button>\n);"}))},J=function(){var e=Object(s.useFlagship)({modifications:{requested:[{key:"color",defaultValue:"#FF33E3",activate:!1}]}}).modifications;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"demo: "),i.a.createElement("div",null,i.a.createElement(p.a,{variant:"secondary",style:{backgroundColor:e.color}},"I'm a button customized with Flagship (backgroundColor=".concat(e.color,")"))),i.a.createElement("div",{className:"mv3"},"Based on the campaign that we set on Flagship platform, the color of the button will change depending values set in the ",i.a.createElement("a",{href:"#playWithVisitorContext"},"visitor context"),"."),i.a.createElement(b,{className:"mv3",codeString:'<Button\n    variant="secondary"\n    style={{\n        backgroundColor: fsModifications.color\n    }}\n>\n    {`I\'m a button customized with Flagship (backgroundColor=${fsModifications.color})`}\n</Button>'}))},Q=function(){var e={transaction:{type:"Transaction",data:{transactionId:"12451342423",affiliation:"testAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"testShippingMethod",currency:"testCurrency",taxes:1234444,paymentMethod:"testPaymentMethod",itemCount:2,couponCode:"TESTCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestScreen"}},screenview:{type:"ScreenView",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestScreenView"}},event:{type:"Event",data:{category:"User Engagement",action:"signOff",label:"test label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestTitle"}},item:{type:"Item",data:{transactionId:"12451342423",name:"testItem",price:999,code:"testCode",category:"testCategory",quantity:1234444,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestScreen"}},pageview:{type:"PageView",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"TestPageView"}}},t=i.a.useState(!1),a=Object(r.a)(t,2),n=a[0],o=a[1],l=i.a.useState(!1),d=Object(r.a)(l,2),u=d[0],m=d[1],g=i.a.useState("transaction"),h=Object(r.a)(g,2),v=h[0],E=h[1],b=i.a.useState(e[v]),y=Object(r.a)(b,2),C=y[0],F=y[1],k=i.a.useState([Object(c.a)({},e.transaction),Object(c.a)({},e.screenview),Object(c.a)({},e.event),Object(c.a)({},e.item),Object(c.a)({},e.pageview)]),w=Object(r.a)(k,2),I=w[0],O=w[1];i.a.useEffect((function(){F(e[v])}),[v]);var x=Object(s.useFlagship)().hit;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Send a hit, demo: "),i.a.createElement(U.a,{variant:"tabs",defaultActiveKey:"hitTransaction"},i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitTransaction",onClick:function(){return E("transaction")}},"Transaction Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitPageView",onClick:function(){return E("pageview")}},"PageView Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitScreenView",onClick:function(){return E("screenview")}},"ScreenView Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitEvent",onClick:function(){return E("event")}},"Event Hit")),i.a.createElement(U.a.Item,null,i.a.createElement(U.a.Link,{eventKey:"hitItem",onClick:function(){return E("item")}},"Item Hit"))),i.a.createElement(N.a,{enableReinitialize:!0,initialValues:{hitPayload:C},validate:function(e){var t={};return e.hitPayload||(t.hitPayload="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),F(Object(c.a)({},e.hitPayload)),x.send(Object(c.a)({},e.hitPayload))}},(function(e){var t=e.handleSubmit,a=(e.handleChange,e.handleBlur,e.setFieldValue),l=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,v," hit payload"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"hitPayload",placeholder:l.hitPayload,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,n=e.jsObject;t?o(!0):(a("hitPayload",n||{},!0),o(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:n,variant:"secondary",type:"submit",style:{cursor:n?"not-allowed":"pointer"}},"Send hit")))})),i.a.createElement("div",{className:"mv3"},"Have a look to logs + network on your browser inspect tools to see results."),i.a.createElement(N.a,{initialValues:{hitsPayload:I},validate:function(e){var t={};return e.hitsPayload||(t.hitsPayload="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),O(Object(K.a)(e.hitsPayload)),x.sendMultiple(Object(K.a)(e.hitsPayload))}},(function(e){var t=e.handleSubmit,a=(e.handleChange,e.handleBlur,e.setFieldValue),n=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,"sendMultiple argument"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"hitsPayload",placeholder:n.hitsPayload,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,n=e.jsObject;t?m(!0):(a("hitsPayload",n||{},!0),m(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:u,variant:"secondary",type:"submit",style:{cursor:u?"not-allowed":"pointer"}},"Send multiple hits")))})))},Y=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=i.a.useState("color"),l=Object(r.a)(o,2),c=l[0],u=l[1],m=i.a.useState({data:null,loading:!1,noCall:!0}),g=Object(r.a)(m,2),h=g[0],v=g[1],E=Object(s.useFlagship)().getModificationInfo;return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{initialValues:{fsParams:c},validate:function(e){return{}},onSubmit:function(e,t){(0,t.setSubmitting)(!1),v({data:{},loading:!0}),u(e.fsParams),E&&E(e.fsParams).then((function(e){v({data:e,loading:!1}),d.NotificationManager.info("getModificationInfo succeed")})).catch((function(e){v({data:{error:e.message},loading:!1}),d.NotificationManager.error("getModificationInfo failed with "+e.stack),n(!0)}))}},(function(e){var t=e.handleSubmit,n=e.handleChange,o=(e.handleBlur,e.setFieldValue,e.values),l=e.touched,r=(e.isValid,e.errors);return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"modificationInfoKey"},i.a.createElement(S.a.Label,null,"Modification key"),i.a.createElement(S.a.Control,{type:"text",name:"fsParams",value:o.fsParams,onChange:n,isValid:l.fsParams&&!r.fsParams,isInvalid:!!r.fsParams}),i.a.createElement(S.a.Control.Feedback,{type:"invalid"},r.fsParams)),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Apply change")))})),i.a.createElement("div",{className:"mv3 b"},"getModificationInfo output:"),i.a.createElement("div",{className:"mb3"},null===h.data?h.noCall?'Please click "Apply change"to see the result.':'getModificationInfo returned "null"':h.loading?"Loading...":i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"fsGetModificationOutput",placeholder:h.data,locale:M.a,height:"550px",viewOnly:!0,width:"100%",style:{body:{fontSize:"16px"}}})))},_=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=i.a.useState({modifications:{requested:[{key:"btnColor",defaultValue:"#FF33E3",activate:!1}]}}),l=Object(r.a)(o,2),d=l[0],u=l[1],m=Object(s.useFlagship)(d);return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{initialValues:{fsParams:d},validate:function(e){var t={};return e.fsParams||(t.fsParams="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),u(Object(c.a)({},e.fsParams))}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),l=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(S.a,{noValidate:!0,onSubmit:t},i.a.createElement(S.a.Group,{as:f.a,md:"12",controlId:"settingsForm"},i.a.createElement(S.a.Label,null,"useFlagship arguments"),i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"fsParams",placeholder:l.fsParams,locale:M.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("fsParams",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(p.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Apply change")))})),i.a.createElement("div",{className:"mv3 b"},"useFlagship output:"),i.a.createElement("div",{className:"mb3"},i.a.createElement(j.a,{waitAfterKeyPress:3e3,id:"fsIutput",placeholder:Object.keys(m).reduce((function(e,t){return Object(c.a)({},e,Object(y.a)({},t,"function"===typeof m[t]?"**** defined function ****":m[t]))}),{}),locale:M.a,height:"550px",viewOnly:!0,width:"100%",style:{body:{fontSize:"16px"}}})))},$=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mv3"},'This function allow to start the bucketing polling (when "fetchNow" is set to "false") and stop the bucketing when desired.'),i.a.createElement(b,{className:"mv3",codeString:"const { startBucketingPolling, stopBucketingPolling } = useFlagship();\nreturn (\n    <Button\n        onClick={() => startBucketingPolling()}\n    >\n        Start the bucketing\n    </Button>\n    <Button\n        onClick={() => stopBucketingPolling()}\n    >\n        Stop the bucketing\n    </Button>\n);"}))},X=function(){var e=i.a.useContext(de).currentSettings,t=Object(s.useFlagship)(),a=t.startBucketingPolling,n=t.stopBucketingPolling;return i.a.createElement(i.a.Fragment,null,"Bucketing"!==e.decisionMode&&i.a.createElement("div",{className:"mv3"},i.a.createElement(g.a,{variant:"warning"},i.a.createElement("b",null,"NOTE:")," You are NOT in bucketing mode. To do so, go to the"," ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),".")),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},i.a.createElement(p.a,{variant:"secondary",onClick:function(){var e=a();e.success?d.NotificationManager.info("Bucketing started"):d.NotificationManager.error("Bucketing cannot start with error: \n"+e.reason)}},"Start the bucketing"),i.a.createElement(p.a,{variant:"secondary",onClick:function(){var e=n();e.success?d.NotificationManager.info("Bucketing stopped"):d.NotificationManager.error("Bucketing cannot start with error: \n"+e.reason)}},"Stop the bucketing")))},Z=function(){var e=Object(s.useFlagship)().status,t=Object(n.useContext)(de).QA;return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFlagship"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFlagship"),i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFlagship")," hook to get access to further stuff such as ",i.a.createElement("i",null,"modifications"),","," ",i.a.createElement("i",null,"sdk status"),", ",i.a.createElement("i",null,"hits")," :"),i.a.createElement(b,{className:"mv3",codeString:"import { useFlagship } from '@flagship.io/react-sdk';\nconst fsParams = {\n    modifications: {\n        requested: [\n            {\n                key: 'btnColor',\n                defaultValue: '#FF33E3', // pink\n                activate: false\n            }\n        ]\n    }\n}\nconst {\n    modifications: fsModifications,\n    status: fsStatus,\n    hit: fsHit,\n} = useFlagship(fsParams);"}),i.a.createElement("h3",null,"1 - Playing with ",i.a.createElement("i",null,"fsModifications")),t.enabled?i.a.createElement(_,null):i.a.createElement(J,null),i.a.createElement("h3",null,"2 - Reading ",i.a.createElement("i",null,"fsStatus")),i.a.createElement("p",null,"It gives you some information about the current status of the SDK:"),i.a.createElement(b,{className:"mv3",codeString:"\nfsStatus=".concat(JSON.stringify(e,null,2),";\n                        ")}),i.a.createElement("div",{className:"fsAnchor",id:"sendHits"}),i.a.createElement("h3",null,"3 - Playing with ",i.a.createElement("i",null,"hits")),t.enabled?i.a.createElement(Q,null):i.a.createElement(q,null),i.a.createElement("div",{className:"fsAnchor",id:"getModificationInfos"}),i.a.createElement("h3",{className:"mt3"},"4 - Get modification ",i.a.createElement("i",null,"informations")),!t.enabled&&i.a.createElement(W,null),i.a.createElement(Y,null),i.a.createElement("div",{className:"fsAnchor",id:"startOrStopBucketing"}),i.a.createElement("h3",{className:"mt3"},"5 - Start or stop ",i.a.createElement("i",null,"bucketing polling")),!t.enabled&&i.a.createElement($,null),i.a.createElement(X,null))))},ee=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],o=t[1];i.a.useEffect((function(){if(a)throw new Error("Flagship - Creating an error just for test...");o(!1)}),[a]);var l=Object(n.useContext)(de).currentSettings;return i.a.createElement(m.a,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"fsAnchor",id:"safeMode"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"Safe Mode"),i.a.createElement("p",null,"When an error occurs unexpectedly, the React SDK switch automatically into ",i.a.createElement("b",null,"Safe Mode"),". Thus, default value of modifications will always be returned. Moreover, other features will just log an error without crash."),i.a.createElement("div",null,i.a.createElement(p.a,{variant:"secondary",onClick:function(){o(!0)}},"Throw an error"),"production"===l.nodeEnv&&i.a.createElement("div",{className:"mv3"},i.a.createElement(g.a,{variant:"warning"},i.a.createElement("b",null,"NOTE:")," You might not see the banner because you are in 'production' environment. You need to change value of ",i.a.createElement("i",null,"nodeEnv")," in"," ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),".")),!l.enableErrorLayout&&i.a.createElement("div",{className:"mv3"},i.a.createElement(g.a,{variant:"warning"},i.a.createElement("b",null,"NOTE:")," You CAN'T see the banner because the setting ",i.a.createElement("i",null,"enableErrorLayout")," ","is disabled, you need to change the value in"," ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),".")),!l.enableSafeMode&&i.a.createElement("div",{className:"mv3"},i.a.createElement(g.a,{variant:"warning"},i.a.createElement("b",null,"NOTE:")," You CAN'T see the banner because the setting ",i.a.createElement("i",null,"enableSafeMode")," is disabled, you need to change the value in ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),"."))))))},te=function(){return i.a.createElement(u.a,{className:"mt3"},i.a.createElement(T,null),i.a.createElement(Z,null),i.a.createElement(z,null),i.a.createElement(D,null),i.a.createElement(R,null),i.a.createElement(ee,null))},ae=a(174),ne=a(173),ie=a(92),oe=a.n(ie),le=function(){var e=Object(n.useContext)(de),t=e.QA,a=e.setQA;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ae.a,{className:"fsNavbar",fixed:"top"},i.a.createElement(ae.a.Brand,{href:"https://github.com/abtasty/flagship-react-sdk",className:"flex item-center"},i.a.createElement("img",{alt:"Logo Flagship",src:oe.a,className:"d-inline-block align-top logoAdjust"}),"React SDK (Dev demo)"),i.a.createElement(U.a,{className:"mr-auto fsNav"},i.a.createElement(U.a.Link,{href:"#initialization"},"Initialization"),i.a.createElement(ne.a,{title:"Hooks",id:"nav-dropdown"},i.a.createElement(ne.a.Item,{eventKey:"4.0",href:"#useFlagship"},"useFlagship"),i.a.createElement(ne.a.Item,{eventKey:"4.1",href:"#useFsModifications"},"useFsModifications"),i.a.createElement(ne.a.Item,{eventKey:"4.2",href:"#useFsActivate"},"useFsActivate")),i.a.createElement(ne.a,{title:"Features",id:"nav-dropdown"},i.a.createElement(ne.a.Item,{eventKey:"4.0",href:"#useFlagship"},"Get modification(s)"),i.a.createElement(ne.a.Item,{eventKey:"4.5",href:"#getModificationInfos"},"Get modification Informations"),i.a.createElement(ne.a.Item,{eventKey:"4.6",href:"#startOrStopBucketing"},"Start or stop manually bucketing polling"),i.a.createElement(ne.a.Item,{eventKey:"4.1",href:"#useFsActivate"},"Activate modification(s)"),i.a.createElement(ne.a.Item,{eventKey:"4.2",href:"#sendHits"},"Send Hit(s)"),i.a.createElement(ne.a.Item,{eventKey:"4.3",href:"#campaignsSynchronization"},"Campaign synchronization"),i.a.createElement(ne.a.Item,{eventKey:"4.4",href:"#safeMode"},"Safe Mode"))),i.a.createElement(S.a,{inline:!0},i.a.createElement(ne.a,{title:"QA mode",id:"nav-dropdown"},i.a.createElement(ne.a.Item,{eventKey:"10.0",onClick:function(){return a(Object(c.a)({},t,{enabled:!0}))}},"ON ",t.enabled&&"\u2705"),i.a.createElement(ne.a.Item,{eventKey:"10.1",onClick:function(){return a(Object(c.a)({},t,{enabled:!1}))}},"OFF ",!t.enabled&&"\u2705")),i.a.createElement(U.a.Link,{href:"https://github.com/abtasty/flagship-react-sdk"},"Github"),i.a.createElement(U.a.Link,{href:"https://www.abtasty.com/solutions-product-teams/"},"What is Flagship ?"))))},re=a(171),ce=function(e){var t=e.onHide,a=e.show;return i.a.createElement(i.a.Fragment,null,i.a.createElement(re.a,{size:"lg",show:a,onHide:t,"aria-labelledby":"example-modal-sizes-title-lg"},i.a.createElement(re.a.Header,{closeButton:!0},i.a.createElement(re.a.Title,{id:"example-modal-sizes-title-lg"},"Edit SDK settings:")),i.a.createElement(re.a.Body,null,"...")))},se=function(){var e=Object(n.useContext)(de),t=e.QA,a=e.setQA;return t.enabled?i.a.createElement(i.a.Fragment,null,i.a.createElement(ae.a,{className:"fsNavbar qaHeader",fixed:"top"},i.a.createElement(ae.a.Brand,{href:"#",className:"flex item-center"},"QA Mode: ",i.a.createElement("span",{className:"green"},"Enabled")),i.a.createElement(U.a,{className:"mr-auto fsNav"}),i.a.createElement(S.a,{inline:!0},i.a.createElement(U.a.Link,{onClick:function(){return a(Object(c.a)({},t,{enabled:!1}))}},"Switch off"))),i.a.createElement(ce,{onHide:function(){return a(Object(c.a)({},t,{show:Object(c.a)({},t.show,{settingsModal:!1})}))},show:t.show.settingsModal})):null},de=Object(n.createContext)(null),ue=function(){var e=i.a.useState(function(){var e=k()||{};return Object(c.a)({envId:C.envId,fetchNow:C.fetchNow,decisionMode:C.decisionMode,pollingInterval:C.pollingInterval,enableConsoleLogs:C.enableConsoleLogs,enableErrorLayout:C.enableErrorLayout,enableSafeMode:C.enableSafeMode,timeout:C.timeout,flagshipApi:C.flagshipApi,apiKey:C.apiKey,nodeEnv:"production",visitorData:Object(c.a)({},C.visitorData)},e)}()),t=Object(r.a)(e,2),a=t[0],n=t[1],o=i.a.useState({enabled:!1,show:{settingsModal:!1}}),l=Object(r.a)(o,2),g=l[0],p=l[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(de.Provider,{value:{currentSettings:a,setSettings:n,QA:g,setQA:p}},i.a.createElement(s.FlagshipProvider,{envId:a.envId,fetchNow:a.fetchNow,enableConsoleLogs:a.enableConsoleLogs,enableErrorLayout:a.enableErrorLayout,pollingInterval:a.pollingInterval,flagshipApi:a.flagshipApi,apiKey:a.apiKey,timeout:a.timeout,decisionMode:a.decisionMode,enableSafeMode:!0,initialModifications:a.initialModifications||void 0,nodeEnv:a.nodeEnv,visitorData:a.visitorData,onInitStart:function(){console.log("onInitStart - triggered")},onInitDone:function(){console.log("onInitDone - triggered")},onUpdate:function(e){var t=e.fsModifications,a=e.status.isSdkReady;console.log("onUpdate - triggered with modifications:"+JSON.stringify(t)+"".concat(a?"":" (SDK is still not ready)"))},onBucketingSuccess:function(e){"200"===e.status&&d.NotificationManager.info("Bucketing has been updated (status = 200)")},loadingComponent:i.a.createElement(u.a,{className:"mt5"},i.a.createElement(m.a,null,i.a.createElement(f.a,{xs:12,style:{color:"white",height:"100vh",fontSize:"5vw"}},"Loading Flagship React SDK...")))},i.a.createElement(d.NotificationContainer,null),i.a.createElement(le,null),i.a.createElement(se,null),i.a.createElement(te,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(158);l.a.render(i.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},92:function(e,t,a){e.exports=a.p+"static/media/Flagship-horizontal-product-white.6e8b90f3.png"}},[[100,1,2]]]);
//# sourceMappingURL=main.af820b99.chunk.js.map
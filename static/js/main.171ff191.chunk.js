(this["webpackJsonpreact-dev-demo"]=this["webpackJsonpreact-dev-demo"]||[]).push([[0],{104:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(70)),o={getLogger:function(e){return void 0===e&&(e={enableConsoleLogs:!1,nodeEnv:"unknown"}),i.default.getLogger(e,"Flagship React SDK")}};t.default=o},105:function(e,t,a){"use strict";var n=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(0)),l={display:"inline-block",verticalAlign:"middle",border:"1px solid transparent",padding:"0.375rem 0.75rem",fontSize:"1rem",lineHeight:1.5,borderRadius:"0.25rem",marginLeft:"16px",transition:"background-color 0.15s ease-in-out,\n        border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out"},c=function(e){function t(t){var a=e.call(this,t)||this;return a.state={error:a.props.error,errorInfo:null,isCollapse:!1},a}return n(t,e),t.prototype.componentDidCatch=function(e,t){this.props.log.fatal("An error occurred. The SDK is switching into safe mode:\n"+e.stack),this.setState({error:e,errorInfo:t})},t.getDerivedStateFromError=function(e){return{error:e}},t.prototype.componentDidUpdate=function(e,t){this.state.error!==t.error&&this.props.onError(this.state.error),this.props.error!==e.error&&this.props.log.fatal("An error occurred. The SDK is switching into safe mode:\n"+this.props.error.stack)},t.prototype.render=function(){var e=this,t=this.state,a=t.error,n=t.isCollapse,o=this.props,c=o.children,s=o.customerChildren,u=o.error,d=o.sdkSettings,m=d.nodeEnv,f=d.enableErrorLayout;if(u||a){var h=u||a;return r.default.createElement(r.default.Fragment,null,"production"!==m&&f&&r.default.createElement("div",{className:"fsErrorDebugContainer",style:{backgroundColor:"red",minHeight:"6vh",position:"fixed",zIndex:9999,bottom:0,width:"100%",opacity:n?1:.4,display:"flex",flexDirection:"column",padding:"0px 16px",transition:"opacity 0.5s ease-in-out"}},r.default.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",marginBottom:"8px",marginTop:"8px"}},r.default.createElement("h3",{style:{color:"white"}},"Flagship React SDK has crashed."),r.default.createElement("button",{style:i({},l),onClick:function(){e.setState(i(i({},e.state),{isCollapse:!n}))}},n?"Hide details":"Show details")),h&&r.default.createElement("div",{style:{maxHeight:n?200:0,overflow:"auto",color:"wheat",whiteSpace:"pre-line",transition:"max-height 0.5s ease-in-out"}},""+h.stack)),r.default.createElement("div",{id:"flagshipSafeModeContainer"},s))}return c},t}(r.default.Component);t.default=c},106:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=i(a(69)),l=function(e){e&&e.error("sdk not correctly initialized... Make sure fsVisitor is ready.")},c=function(e,t){e&&e.error(t+" is disabled because the SDK is in safe mode.")};t.useFsActivate=function(e,t){void 0===t&&(t=[]);var a=o.useContext(r.default),n=a.state,i=a.hasError;o.useEffect((function(){var t=n.fsVisitor;if(i)return c(n.log,"UseFsActivate");t?t.activateModifications(e.map((function(e){return{key:e}}))):l(n.log)}),t)},t.useFsSynchronize=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1);var a=o.useContext(r.default),i=a.state,s=a.setState,u=a.hasError;o.useEffect((function(){var e=i.fsVisitor;if(u)return c(i.log,"UseFsSynchronize");e?e.synchronizeModifications(t).then((function(){if(!s)throw new Error("Error: useFsSynchronize > useEffect, setState is undefined");s(n(n({},i),{fsVisitor:e,status:n(n({},i.status),{isLoading:!1,lastRefresh:(new Date).toISOString()})}))})):l(i.log)}),e)};var s=function(e,t){return void 0===t&&(t=!1),e.reduce((function(e,t){var a=n({},e);return a[t.key]=t.defaultValue,a}),{})},u=function(e,t,a,n){return void 0===a&&(a=!1),e?e.getModifications(t,a):(n&&n.warn("fsVisitor not initialized, returns default value"),s(t,a))};t.useFsModifications=function(e,t){void 0===t&&(t=!1);var a=o.useContext(r.default),n=a.state,i=n.fsVisitor,l=n.log;return a.hasError?s(e,t):u(i,e,t,l)},t.useFlagship=function(e){var t=(e||{modifications:{requested:[],activateAll:!1}}).modifications,a=t.requested,n=t.activateAll,i=void 0!==n&&n,l=o.useContext(r.default),d=l.hasError,m=l.state,f=m.fsVisitor,h=m.status,p=m.log;if(d)return{modifications:s(a,i),status:h,hit:{send:function(){c(p,"send hit")},sendMultiple:function(){c(p,"send multiple hits")}}};var v=function(){p&&p.error("SDK not ready yet.")},g=function(e){f&&f.sendHit?f.sendHit(e):v()},E=function(e){f&&f.sendHits?f.sendHits(e):v()};return g.bind(f),E.bind(f),{modifications:u(f,a,i,p),status:h,hit:{send:g,sendMultiple:E}}}},145:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(26),r=a.n(o),l=(a(97),a(6)),c=a(7),s=(a(98),a(9)),u=a(155),d=a(153),m=a(83),f=a(161),h=a(78),p=a(152);f.a.registerLanguage("jsx",h.a);var v=function(e){var t=e.className,a=e.codeString;return i.a.createElement("div",{className:t},i.a.createElement(f.a,{language:"javascript",style:p.a,showLineNumbers:!0},a))},g=a(154),E=a(17),y=a(157),b=a(84),S=a(16),C=a(15),F=a.n(C),k=function(){var e=Object(n.useContext)(ae),t=e.currentSettings,a=e.setSettings,o=i.a.useState(!1),r=Object(c.a)(o,2),s=r[0],u=r[1];return i.a.createElement(E.a,{initialValues:{envId:t.envId,settings:t.sdkConfig},validate:function(e){var t={};return e.envId||(t.envId="Required"),t},onSubmit:function(e,n){(0,n.setSubmitting)(!1),a(Object(l.a)({},t,{envId:e.envId,sdkConfig:Object(l.a)({},e.settings)}))}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.setFieldValue),o=e.values,r=e.touched,l=(e.isValid,e.errors);return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"envIdForm"},i.a.createElement(y.a.Label,null,"Environment ID"),i.a.createElement(y.a.Control,{type:"text",name:"envId",value:o.envId,onChange:a,isValid:r.envId&&!l.envId,isInvalid:!!l.envId}),i.a.createElement(y.a.Control.Feedback,{type:"invalid"},l.envId)),i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,'"',i.a.createElement("i",null,"config"),'" prop'),i.a.createElement(S.a,{id:"settings",placeholder:o.settings,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?u(!0):(n("settings",a||{},!0),u(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:s,variant:"secondary",type:"submit",style:{cursor:s?"not-allowed":"pointer"}},"Apply change")))}))},O=function(){var e=Object(n.useContext)(ae),t=e.currentSettings,a=e.setSettings,o=i.a.useState(!1),r=Object(c.a)(o,2),s=r[0],u=r[1];return i.a.createElement(E.a,{initialValues:{vId:t.visitorData.id,vContext:t.visitorData.context},validate:function(e){var t={};return e.vId||(t.vId="Required"),t},onSubmit:function(e,n){(0,n.setSubmitting)(!1),a(Object(l.a)({},t,{visitorData:{id:e.vId,context:e.vContext||{}}}))}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.setFieldValue),o=e.values,r=e.touched,l=(e.isValid,e.errors);return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"validationFormik01"},i.a.createElement(y.a.Label,null,"Visitor ID"),i.a.createElement(y.a.Control,{type:"text",name:"vId",value:o.vId,onChange:a,isValid:r.vId&&!l.vId,isInvalid:!!l.vId}),i.a.createElement(y.a.Control.Feedback,{type:"invalid"},l.vId)),i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"validationFormik02"},i.a.createElement(y.a.Label,null,"Visitor Context"),i.a.createElement(S.a,{id:"a_unique_id",placeholder:o.vContext,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?u(!0):(n("vContext",a||{},!0),u(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:s,variant:"secondary",type:"submit",style:{cursor:s?"not-allowed":"pointer"}},"Apply change")))}))},j=a(27),I={envId:"bn1ab7m56qolupi5sa0g",sdkConfig:{fetchNow:!0,enableConsoleLogs:!0,enableErrorLayout:!0,nodeEnv:"production"},visitorData:{id:"test-vid",context:{isAwesome:!1,isEvil:!1}},sandbox:{config:{fetchNow:!0,enableConsoleLogs:!0,enableErrorLayout:!0},envId:["bn1ab7m56qolupi5sa0g_fake_1","bn1ab7m56qolupi5sa0g_fake_2"],nodeEnv:["production","development"],visitorId:["test-vid","test-vid_2","test-vid_3"]}},x=function(){var e=Object(n.useContext)(ae),t=e.currentSettings,a=e.setSettings,o=i.a.useState(Object(l.a)({},t)),r=Object(c.a)(o,2),s=r[0],u=r[1],d=function(e){var t=JSON.parse(e.currentTarget.parentElement.innerText),a=Object(l.a)({},s);if(e.currentTarget.checked)u(Object(l.a)({},s,{visitorData:Object(l.a)({},s.visitorData,{context:Object(l.a)({},s.visitorData.context,Object(j.a)({},Object.keys(t)[0],!0))})}));else{var n=Object.keys(t)[0];u(Object(l.a)({},s,{visitorData:Object(l.a)({},s.visitorData,{context:Object.entries(a.visitorData.context).reduce((function(e,t){var a=Object(c.a)(t,2),i=a[0],o=a[1];return i===n?Object.keys(I.visitorData.context).includes(n)?Object(l.a)({},e,Object(j.a)({},i,!1)):e:Object(l.a)({},e,Object(j.a)({},i,o))}),{})})}))}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null,i.a.createElement(y.a.Group,{controlId:"initForm.ControlSelect2",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"visitorId: "),i.a.createElement(y.a.Control,{as:"select",onChange:function(e){return u(Object(l.a)({},s,{visitorData:Object(l.a)({},s.visitorData,{id:e.target.value})}))}},i.a.createElement("option",{key:t.visitorData.id},t.visitorData.id),I.sandbox.visitorId.filter((function(e){return e!=t.visitorData.id})).map((function(e){return i.a.createElement("option",{key:e},e)})))),i.a.createElement("div",{className:"fsAnchor",id:"playWithVisitorContext"}),i.a.createElement(y.a.Group,{controlId:"initForm.ControlSelect3"},i.a.createElement(y.a.Label,null,"visitor context"),Object.entries(Object(l.a)({},I.visitorData.context,{},s.visitorData.context)).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return i.a.createElement(y.a.Check,{key:a,type:"checkbox",id:"default-".concat(a),checked:!!s.visitorData.context.hasOwnProperty(a)&&!!n,onChange:d,label:JSON.stringify(Object(j.a)({},a,n))})})))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i.a.createElement(b.a,{variant:"secondary",onClick:function(){return a(Object(l.a)({},s))}},"Apply change")))},w=function(){var e=Object(n.useContext)(ae),t=e.currentSettings,a=e.setSettings,o=(e.QA,i.a.useState(Object(l.a)({},t))),r=Object(c.a)(o,2),s=r[0],u=r[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null,i.a.createElement(y.a.Group,{controlId:"initForm.Control1.1",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"envId: "),i.a.createElement(y.a.Control,{as:"select",onChange:function(e){return u(Object(l.a)({},s,{envId:e.target.value}))}},i.a.createElement("option",{key:s.envId},s.envId),I.sandbox.envId.filter((function(e){return e!=s.envId})).map((function(e){return i.a.createElement("option",{key:e},e)})))),i.a.createElement(y.a.Group,{controlId:"initForm.Control1.11",style:{display:"flex",alignItems:"center",marginLeft:"16px"}},i.a.createElement("div",null,"nodeEnv: "),i.a.createElement(y.a.Control,{as:"select",onChange:function(e){return u(Object(l.a)({},s,{sdkConfig:Object(l.a)({},s.sdkConfig,{nodeEnv:e.target.value})}))}},i.a.createElement("option",{key:s.sdkConfig.nodeEnv},s.sdkConfig.nodeEnv),I.sandbox.nodeEnv.filter((function(e){return e!=s.sdkConfig.nodeEnv})).map((function(e){return i.a.createElement("option",{key:e},e)})))),Object.keys(Object(l.a)({},I.sandbox.config,{},s.sdkConfig)).filter((function(e){return"nodeEnv"!=e})).map((function(e){return i.a.createElement(y.a.Group,{controlId:e+"Form"},i.a.createElement(y.a.Check,{type:"checkbox",checked:!!s.sdkConfig[e]||!1,onChange:function(t){var a=Object(l.a)({},s,{sdkConfig:Object(l.a)({},s.sdkConfig,Object(j.a)({},e,t.currentTarget.checked))});"boolean"!=typeof s.sdkConfig[e]&&delete a.sdkConfig[e],u(a)},label:"".concat(e,"=").concat(s.sdkConfig[e])}))}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i.a.createElement(b.a,{variant:"secondary",onClick:function(){return a(Object(l.a)({},s))}},"Apply change")),i.a.createElement("div",null,"Since we have set those settings:"),i.a.createElement(v,{className:"mv3",codeString:"".concat(JSON.stringify(t.sdkConfig,null,2))}),i.a.createElement("div",null,"When you change those values, you can notice the behavior of the SDK, on logs & network."),i.a.createElement("div",{className:"mb5"},"It will impact the output of Flagship SDK Hooks as well, take a look below."))},M=function(){var e="initialization",t=Object(n.useContext)(ae),a=t.currentSettings,o=(t.setSettings,t.QA),r=i.a.useState(Object(l.a)({},a)),s=Object(c.a)(r,2);s[0],s[1];return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:e}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,e),i.a.createElement("p",null,"The ",i.a.createElement("b",null,e)," is proceed with"," ",i.a.createElement("b",null,"FlagshipProvider"),". In this demo app, it is plugged like so:"),i.a.createElement(v,{className:"mv3",codeString:"import React from 'react';\nimport { FlagshipProvider } from \"@flagship.io/react-sdk\";\n\nconst App: React.FC = () => (\n  <>\n      <FlagshipProvider\n      envId={".concat(a.envId,"}\n      config={\n        ").concat(JSON.stringify(a.sdkConfig,null,2),"\n      }\n      visitorData={\n        ").concat(JSON.stringify(a.visitorData,null,2),'\n    }\n      onInitStart={() => {\n        console.log("init start");\n      }}\n      onInitDone={() => {\n        console.log("init done");\n      }}\n      onUpdate={({ fsModifications }) => {\n        console.log(\n            \'React SDK updated with modifications:\' + JSON.stringify(fsModifications)\n        );\n      }}\n      loadingComponent={\n        <Container className="mt3">\n          <Row>\n            <Col xs={12}>Loading Flagship React SDK...</Col>\n          </Row>\n        </Container>\n      }\n    >\n      <Header />\n      <AppContainer />\n    </FlagshipProvider>\n  </>\n);          ')}),i.a.createElement("p",null,"To understand impact of each props, you can change some value dynamically here:"," "),i.a.createElement("h3",{id:"playWithConfig",style:{borderBottom:"1px solid grey",marginBottom:"16px",paddingBottom:"8px"}},"1 - Playing with ",i.a.createElement("i",null,"config")),o.enabled?i.a.createElement(k,null):i.a.createElement(w,null),i.a.createElement("h3",{style:{borderBottom:"1px solid grey",marginBottom:"16px",paddingBottom:"8px"}},"2 - Playing with ",i.a.createElement("i",null,"visitorData")),o.enabled?i.a.createElement(O,null):i.a.createElement(x,null))))},A=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];Object(s.useFsActivate)(["color","unknownKey"],[a]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFsActivate")," hook to trigger activation of a modification when needed:"),i.a.createElement(v,{className:"mv3",codeString:"const [toggle, setToggle] = React.useState(false);\nuseFsActivate(['color','unknownKey'], [toggle]);\n\n// {...}\n\n<Button\nvariant=\"secondary\"\nonClick={() => setToggle(!toggle)}\n>\n    Trigger activate\n</Button>"}),i.a.createElement(b.a,{variant:"secondary",onClick:function(){return n(!a)}},"Trigger activate"),i.a.createElement("div",{className:"mv3"},i.a.createElement("p",null,"In this example, we're activating only when ",i.a.createElement("i",null,"toggle")," ","value has changed as we have specified a 2nd argument in"," ",i.a.createElement("i",null,"useFsActivate")," hook."),i.a.createElement("p",null,"We also specified in 1st argument that we want to activate 3 keys. For each key, there is 2 possible scenarios:"),i.a.createElement("p",null,'If the key exist, a http request "activate" will be done.'),i.a.createElement("p",null,"If the key does not exist, you will receive a warning log.")))},N=a(34),P=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],o=i.a.useState(!1),r=Object(c.a)(o,2),l=r[0],u=r[1],d=i.a.useState(["btnColor","otherKey1","otherKey2"]),f=Object(c.a)(d,2),h=f[0],p=f[1];return Object(s.useFsActivate)(h,[l]),i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{initialValues:{modificationToActivate:h},validate:function(e){var t={};return e.modificationToActivate||(t.modificationToActivate="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),p(Object(N.a)(e.modificationToActivate)),u(!l)}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),r=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,"useFsModifications arguments"),i.a.createElement(S.a,{id:"modificationToActivate",placeholder:r.modificationToActivate,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("modificationToActivate",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Trigger activate")))})))},D=function(){var e=Object(n.useContext)(ae).QA;return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFsActivate"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFsActivate"),e.enabled?i.a.createElement(P,null):i.a.createElement(A,null))))},L=function(){var e=Object(s.useFsModifications)([{key:"color",defaultValue:"#FF33E3",activate:!1}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFsModifications")," hook to get the modifications:"),i.a.createElement(v,{className:"mv3",codeString:"import { useFsModifications } from '@flagship.io/react-sdk';\nconst fsModifications = useFsModifications([\n    {\n        key: 'color',\n        defaultValue: '#FF33E3',\n        activate: false\n    }\n]);"}),i.a.createElement("p",null,"Output: "),i.a.createElement("div",null,i.a.createElement(b.a,{variant:"secondary",style:{backgroundColor:e.color}},"My color tells my visitor mood (backgroundColor=".concat(e.color,")"))),i.a.createElement("div",{className:"mv3"},"Based on the campaign that we set on Flagship platform, the color of the button will change depending values set in the"," ",i.a.createElement("a",{href:"#playWithVisitorContext"},"visitor context"),"."),i.a.createElement(v,{className:"mv3",codeString:'<Button\n    variant="secondary"\n    style={{\n        backgroundColor: fsModifications.color\n    }}\n>\n    {`My color tells my visitor mood (backgroundColor=${fsModifications.color})`}\n</Button>'}))},T=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],o=i.a.useState([{key:"btnColor",defaultValue:"green",activate:!1}]),r=Object(c.a)(o,2),l=r[0],u=r[1],d=Object(s.useFsModifications)(l);return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{initialValues:{fsParams:l},validate:function(e){var t={};return e.fsParams||(t.fsParams="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),u(Object(N.a)(e.fsParams))}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),r=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,"useFsModifications arguments"),i.a.createElement(S.a,{id:"fsParams",placeholder:r.fsParams,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("fsParams",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Apply change")))})),i.a.createElement("div",{className:"mv3 b"},"useFsModifications output:"),i.a.createElement("div",{className:"mb3"},i.a.createElement(S.a,{id:"fsOutput",placeholder:d,locale:F.a,height:"550px",viewOnly:!0,width:"100%",style:{body:{fontSize:"16px"}}})))},H=function(){var e=Object(n.useContext)(ae).QA;return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFsModifications"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFsModifications"),e.enabled?i.a.createElement(T,null):i.a.createElement(L,null))))},V=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],o=i.a.useState(!1),r=Object(c.a)(o,2),l=r[0],u=r[1];return Object(s.useFsSynchronize)([a],l),i.a.createElement(i.a.Fragment,null,i.a.createElement(v,{className:"mv3",codeString:"useFsSynchronize([listenedValue], activateAllModifications);"}),i.a.createElement("div",null,"When ",i.a.createElement("b",null,"listenedValue")," value changed, it will update modifications in cache (=synchronization)."),i.a.createElement("div",{className:"mb3"},"You can also notice that enabling"," ",i.a.createElement("b",null,"activateAllModifications")," to true will modify the payload sent to the Flagship API and thus trigger an activate."),i.a.createElement(y.a,null,i.a.createElement(y.a.Group,{controlId:"demoFsSynchronize.ControlSelect1"},i.a.createElement(y.a.Label,null,"Playing with 1st argument"),i.a.createElement(y.a.Check,{type:"checkbox",checked:a,onChange:function(e){return n(e.currentTarget.checked)},label:"listenedValue=".concat(a)})),i.a.createElement(y.a.Group,{controlId:"demoFsSynchronize.ControlSelect2"},i.a.createElement(y.a.Label,null,"Playing with 2nd argument"),i.a.createElement(y.a.Check,{type:"checkbox",checked:l,onChange:function(e){return u(e.currentTarget.checked)},label:"activateAllModifications=".concat(l)}))))},_=function(){return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFsSynchronize"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFsSynchronize"),i.a.createElement(V,null))))},K=a(160),B=function(){var e=Object(s.useFlagship)(),t=(e.status,e.hit),a={multipleCodeString:"<Button\n    onClick={() => {\n        const transactionHit = {\n            type: 'Transaction',\n            data: {\n                transactionId: '12451342423',\n                affiliation: 'myAffiliation',\n                totalRevenue: 999,\n                shippingCost: 888,\n                shippingMethod: 'myShippingMethod',\n                currency: 'myCurrency',\n                taxes: 1234444,\n                paymentMethod: 'myPaymentMethod',\n                itemCount: 2,\n                couponCode: 'myCOUPON',\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'myScreen'\n            }\n        };\n        const eventHit = {\n            type: 'Event',\n            data: {\n                category: 'User Engagement',\n                action: 'signOff',\n                label: 'yolo label ;)',\n                value: 123,\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'YoloTitle'\n            }\n        };\n        fsHit.sendMultiple([transactionHit, eventHit]);\n    }}\n>\n    Send multiple transaction hits\n</Button>",multipleComponent:i.a.createElement(b.a,{variant:"secondary",onClick:function(){t.sendMultiple([{type:"Transaction",data:{transactionId:"12451342423",affiliation:"myAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"myShippingMethod",currency:"myCurrency",taxes:1234444,paymentMethod:"myPaymentMethod",itemCount:2,couponCode:"myCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"myScreen"}},{type:"Event",data:{category:"User Engagement",action:"signOff",label:"yolo label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloTitle"}}])}},"Send multiple mixed hits")},n={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Transaction',\n            data: {\n                transactionId: '12451342423',\n                affiliation: 'myAffiliation',\n                totalRevenue: 999,\n                shippingCost: 888,\n                shippingMethod: 'myShippingMethod',\n                currency: 'myCurrency',\n                taxes: 1234444,\n                paymentMethod: 'myPaymentMethod',\n                itemCount: 2,\n                couponCode: 'myCOUPON',\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'myScreen'\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a transaction hit\n</Button>",simpleComponent:i.a.createElement(b.a,{variant:"secondary",onClick:function(){t.send({type:"Transaction",data:{transactionId:"12451342423",affiliation:"myAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"myShippingMethod",currency:"myCurrency",taxes:1234444,paymentMethod:"myPaymentMethod",itemCount:2,couponCode:"myCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"myScreen"}})}},"Send a transaction hit")},o={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Screen',\n            data: {\n                documentLocation: 'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'YoloScreen',\n            },\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a screen hit\n</Button>",simpleComponent:i.a.createElement(b.a,{variant:"secondary",onClick:function(){t.send({type:"Screen",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloScreen"}})}},"Send a screen hit")},r={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Item',\n            data: {\n              transactionId: '12451342423',\n              name: 'yoloItem',\n              price: 999,\n              code: 'yoloCode',\n              category: 'yoloCategory',\n              quantity: 1234444,\n              documentLocation: 'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n              pageTitle: 'YoloScreen',\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a item hit\n</Button>",simpleComponent:i.a.createElement(b.a,{variant:"secondary",onClick:function(){t.send({type:"Item",data:{transactionId:"12451342423",name:"yoloItem",price:999,code:"yoloCode",category:"yoloCategory",quantity:1234444,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloScreen"}})}},"Send a item hit")},l={simpleCodeString:"<Button\n    onClick={() => {\n        const mockHit = {\n            type: 'Event',\n            data: {\n                category: 'User Engagement',\n                action: 'signOff',\n                label: 'yolo label ;)',\n                value: 123,\n                documentLocation:\n                    'http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F',\n                pageTitle: 'YoloTitle'\n            }\n        };\n        fsHit.send(mockHit);\n    }}\n>\n    Send a page hit\n</Button>",simpleComponent:i.a.createElement(b.a,{variant:"secondary",onClick:function(){t.send({type:"Event",data:{category:"User Engagement",action:"signOff",label:"yolo label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloTitle"}})}},"Send a item hit")},u=i.a.useState(n),d=Object(c.a)(u,2),m=d[0],f=d[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb3"},"If you're not familiar with the payload that you should a provide to the hit you want to send, you'll have all details available in the"," ",i.a.createElement("a",{href:"https://github.com/abtasty/flagship-react-sdk#shape-of-possible-hits-to-send"},"SDK Hit documentation"),"."),i.a.createElement("div",null,i.a.createElement("b",null,"NOTE:"),i.a.createElement("p",null,"It is not necessary to provide parameters to"," ",i.a.createElement("i",null,"useFlagship")," if your purpose is only to send hits."),i.a.createElement(v,{className:"mv3",codeString:"import { useFlagship } from '@flagship.io/react-sdk';\nconst { hit: fsHit } = useFlagship();"})),i.a.createElement("p",null,"Send a hit, demo: "),i.a.createElement(K.a,{variant:"tabs",defaultActiveKey:"hitTransaction"},i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitTransaction",onClick:function(){return f(n)}},"Transaction Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitScreen",onClick:function(){return f(o)}},"Screen Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitEvent",onClick:function(){return f(l)}},"Event Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitItem",onClick:function(){return f(r)}},"Item Hit"))),i.a.createElement(v,{className:"mv3",codeString:m.simpleCodeString}),i.a.createElement("div",null,m.simpleComponent),i.a.createElement("div",{className:"mt3"},"Send multiple mixed hit, demo: "),i.a.createElement(v,{className:"mv3",codeString:a.multipleCodeString}),i.a.createElement("div",null,a.multipleComponent))},z=function(){var e={transaction:{type:"Transaction",data:{transactionId:"12451342423",affiliation:"yoloAffiliation",totalRevenue:999,shippingCost:888,shippingMethod:"yoloShippingMethod",currency:"yoloCurrency",taxes:1234444,paymentMethod:"yoloPaymentMethod",itemCount:2,couponCode:"YOLOCOUPON",documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloScreen"}},screen:{type:"Screen",data:{documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloScreen"}},event:{type:"Event",data:{category:"User Engagement",action:"signOff",label:"yolo label ;)",value:123,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloTitle"}},item:{type:"Item",data:{transactionId:"12451342423",name:"yoloItem",price:999,code:"yoloCode",category:"yoloCategory",quantity:1234444,documentLocation:"http%3A%2F%2Fabtastylab.com%2F60511af14f5e48764b83d36ddb8ece5a%2F",pageTitle:"YoloScreen"}}},t=i.a.useState(!1),a=Object(c.a)(t,2),n=a[0],o=a[1],r=i.a.useState(!1),u=Object(c.a)(r,2),d=u[0],f=u[1],h=i.a.useState("transaction"),p=Object(c.a)(h,2),v=p[0],g=p[1],C=i.a.useState(e[v]),k=Object(c.a)(C,2),O=k[0],j=k[1],I=i.a.useState([Object(l.a)({},e.transaction),Object(l.a)({},e.screen),Object(l.a)({},e.event),Object(l.a)({},e.item)]),x=Object(c.a)(I,2),w=x[0],M=x[1];i.a.useEffect((function(){return j(e[v])}),[v]);var A=Object(s.useFlagship)().hit;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Send a hit, demo: "),i.a.createElement(K.a,{variant:"tabs",defaultActiveKey:"hitTransaction"},i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitTransaction",onClick:function(){return g("transaction")}},"Transaction Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitScreen",onClick:function(){return g("screen")}},"Screen Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitEvent",onClick:function(){return g("event")}},"Event Hit")),i.a.createElement(K.a.Item,null,i.a.createElement(K.a.Link,{eventKey:"hitItem",onClick:function(){return g("item")}},"Item Hit"))),i.a.createElement(E.a,{enableReinitialize:!0,initialValues:{hitPayload:O},validate:function(e){var t={};return e.hitPayload||(t.hitPayload="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),j(Object(l.a)({},e.hitPayload)),A.send(Object(l.a)({},e.hitPayload))}},(function(e){var t=e.handleSubmit,a=(e.handleChange,e.handleBlur,e.setFieldValue),r=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,v," hit payload"),i.a.createElement(S.a,{id:"hitPayload",placeholder:r.hitPayload,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,n=e.jsObject;t?o(!0):(a("hitPayload",n||{},!0),o(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:n,variant:"secondary",type:"submit",style:{cursor:n?"not-allowed":"pointer"}},"Send hit")))})),i.a.createElement("div",{className:"mv3"},"Have a look to logs + network on your browser inspect tools to see results."),i.a.createElement(E.a,{initialValues:{hitsPayload:w},validate:function(e){var t={};return e.hitsPayload||(t.hitsPayload="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),M(Object(N.a)(e.hitsPayload)),A.sendMultiple(Object(N.a)(e.hitsPayload))}},(function(e){var t=e.handleSubmit,a=(e.handleChange,e.handleBlur,e.setFieldValue),n=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,"sendMultiple argument"),i.a.createElement(S.a,{id:"hitsPayload",placeholder:n.hitsPayload,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,n=e.jsObject;t?f(!0):(a("hitsPayload",n||{},!0),f(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:d,variant:"secondary",type:"submit",style:{cursor:d?"not-allowed":"pointer"}},"Send multiple hits")))})))},R=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],o=i.a.useState({modifications:{requested:[{key:"btnColor",defaultValue:"green",activate:!1}]}}),r=Object(c.a)(o,2),u=r[0],d=r[1],f=Object(s.useFlagship)(u);f.modifications;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{initialValues:{fsParams:u},validate:function(e){var t={};return e.fsParams||(t.fsParams="Required"),t},onSubmit:function(e,t){(0,t.setSubmitting)(!1),d(Object(l.a)({},e.fsParams))}},(function(e){var t=e.handleSubmit,o=(e.handleChange,e.handleBlur,e.setFieldValue),r=e.values;e.touched,e.isValid,e.errors;return i.a.createElement(y.a,{noValidate:!0,onSubmit:t},i.a.createElement(y.a.Group,{as:m.a,md:"12",controlId:"settingsForm"},i.a.createElement(y.a.Label,null,"useFlagship arguments"),i.a.createElement(S.a,{id:"fsParams",placeholder:r.fsParams,locale:F.a,height:"550px",width:"100%",onChange:function(e){var t=e.error,a=e.jsObject;t?n(!0):(o("fsParams",a||{},!0),n(!1))},style:{body:{fontSize:"16px"}}})),i.a.createElement("div",{className:"flex justify-end ph3"},i.a.createElement(b.a,{disabled:a,variant:"secondary",type:"submit",style:{cursor:a?"not-allowed":"pointer"}},"Apply change")))})),i.a.createElement("div",{className:"mv3 b"},"useFlagship output:"),i.a.createElement("div",{className:"mb3"},i.a.createElement(S.a,{id:"fsIutput",placeholder:f,locale:F.a,height:"550px",viewOnly:!0,width:"100%",style:{body:{fontSize:"16px"}}})))},q=function(){var e=Object(s.useFlagship)({modifications:{requested:[{key:"color",defaultValue:"#FF33E3",activate:!1}]}}).modifications;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"demo: "),i.a.createElement("div",null,i.a.createElement(b.a,{variant:"secondary",style:{backgroundColor:e.color}},"I'm a button customized with Flagship (backgroundColor=".concat(e.color,")"))),i.a.createElement("div",{className:"mv3"},"Based on the campaign that we set on Flagship platform, the color of the button will change depending values set in the"," ",i.a.createElement("a",{href:"#playWithVisitorContext"},"visitor context"),"."),i.a.createElement(v,{className:"mv3",codeString:'<Button\n    variant="secondary"\n    style={{\n        backgroundColor: fsModifications.color\n    }}\n>\n    {`My color tells my visitor mood (backgroundColor=${fsModifications.color})`}\n</Button>'}))},U=function(){Object(s.useFlagship)({modifications:{requested:[{key:"btnColor",defaultValue:"green",activate:!1}]}}).modifications;var e=Object(s.useFlagship)(),t=e.status,a=(e.hit,Object(n.useContext)(ae).QA);return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:"useFlagship"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"useFlagship"),i.a.createElement("p",null,"Use ",i.a.createElement("b",null,"useFlagship")," hook to get access to further stuff such as ",i.a.createElement("i",null,"modifications"),", ",i.a.createElement("i",null,"sdk status"),","," ",i.a.createElement("i",null,"hits")," :"),i.a.createElement(v,{className:"mv3",codeString:"import { useFlagship } from '@flagship.io/react-sdk';\nconst fsParams = {\n    modifications: {\n        requested: [\n            {\n                key: 'btnColor',\n                defaultValue: 'green',\n                activate: false\n            }\n        ]\n    }\n}\nconst {\n    modifications: fsModifications,\n    status: fsStatus,\n    hit: fsHit,\n} = useFlagship(fsParams);"}),i.a.createElement("h3",null,"1 - Playing with ",i.a.createElement("i",null,"fsModifications")),a.enabled?i.a.createElement(R,null):i.a.createElement(q,null),i.a.createElement("h3",null,"2 - Reading ",i.a.createElement("i",null,"fsStatus")),i.a.createElement("p",null,"It gives you some information about the current status of the SDK:"),i.a.createElement(v,{className:"mv3",codeString:"\nfsStatus=".concat(JSON.stringify(t,null,2),";\n                        ")}),i.a.createElement("div",{className:"fsAnchor",id:"sendHits"}),i.a.createElement("h3",null,"3 - Playing with ",i.a.createElement("i",null,"hits")),a.enabled?i.a.createElement(z,null):i.a.createElement(B,null))))},G=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],o=t[1];i.a.useEffect((function(){if(a)throw new Error("Flagship - Creating an error just for test...");o(!1)}),[a]);var r=Object(n.useContext)(ae),l=r.currentSettings;r.setSettings,r.QA;return i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"fsAnchor",id:"safeMode"}),i.a.createElement(g.a,{variant:"dark",className:"fs-alert demoHook"},i.a.createElement(g.a.Heading,null,"Safe Mode"),i.a.createElement("p",null,"When an error occurs unexpectedly, the React SDK switch automatically into ",i.a.createElement("b",null,"Safe Mode"),". Thus, default value of modifications will always be returned. Moreover, other features will just log an error without crash."),i.a.createElement("div",null,i.a.createElement(b.a,{variant:"secondary",onClick:function(){o(!0)}},"Throw an error"),"production"===l.sdkConfig.nodeEnv&&i.a.createElement("div",{className:"mv3"},i.a.createElement("b",null,"NOTE:")," You might not see the banner because you are in 'production' environment. You need to change value of ",i.a.createElement("i",null,"nodeEnv")," in"," ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),"."),!l.sdkConfig.enableErrorLayout&&i.a.createElement("div",{className:"mv3"},i.a.createElement("b",null,"NOTE:")," You might not see the banner because the setting ",i.a.createElement("i",null,"enableErrorLayout")," is disabled, you need to change the value in"," ",i.a.createElement("a",{href:"#playWithConfig"},"SDK settings"),".")))))},Y=function(){return i.a.createElement(u.a,{className:"mt3"},i.a.createElement(M,null),i.a.createElement(U,null),i.a.createElement(H,null),i.a.createElement(D,null),i.a.createElement(_,null),i.a.createElement(G,null))},Q=a(159),W=a(158),J=a(85),$=a.n(J),X=function(){var e=Object(n.useContext)(ae),t=e.QA,a=e.setQA;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Q.a,{className:"fsNavbar",fixed:"top"},i.a.createElement(Q.a.Brand,{href:"https://github.com/abtasty/flagship-react-sdk",className:"flex item-center"},i.a.createElement("img",{alt:"Logo Flagship",src:$.a,className:"d-inline-block align-top logoAdjust"}),"React SDK (Dev demo)"),i.a.createElement(K.a,{className:"mr-auto fsNav"},i.a.createElement(K.a.Link,{href:"#initialization"},"Initialization"),i.a.createElement(W.a,{title:"Hooks",id:"nav-dropdown"},i.a.createElement(W.a.Item,{eventKey:"4.0",href:"#useFlagship"},"useFlagship"),i.a.createElement(W.a.Item,{eventKey:"4.1",href:"#useFsModifications"},"useFsModifications"),i.a.createElement(W.a.Item,{eventKey:"4.2",href:"#useFsActivate"},"useFsActivate"),i.a.createElement(W.a.Item,{eventKey:"4.3",href:"#useFsSynchronize"},"useFsSynchronize")),i.a.createElement(W.a,{title:"Features",id:"nav-dropdown"},i.a.createElement(W.a.Item,{eventKey:"4.0",href:"#useFlagship"},"Get modification(s)"),i.a.createElement(W.a.Item,{eventKey:"4.1",href:"#useFsActivate"},"Activate modification(s)"),i.a.createElement(W.a.Item,{eventKey:"4.2",href:"#sendHits"},"Send Hit(s)"),i.a.createElement(W.a.Item,{eventKey:"4.3",href:"#useFsSynchronize"},"Refresh modifications"),i.a.createElement(W.a.Item,{eventKey:"4.4",href:"#safeMode"},"Safe Mode"))),i.a.createElement(y.a,{inline:!0},i.a.createElement(W.a,{title:"QA mode",id:"nav-dropdown"},i.a.createElement(W.a.Item,{eventKey:"10.0",onClick:function(){return a(Object(l.a)({},t,{enabled:!0}))}},"ON ",t.enabled&&"\u2705"),i.a.createElement(W.a.Item,{eventKey:"10.1",onClick:function(){return a(Object(l.a)({},t,{enabled:!1}))}},"OFF ",!t.enabled&&"\u2705")),i.a.createElement(K.a.Link,{href:"https://github.com/abtasty/flagship-react-sdk"},"Github"),i.a.createElement(K.a.Link,{href:"https://www.abtasty.com/solutions-product-teams/"},"What is Flagship ?"))))},Z=a(156),ee=function(e){var t=e.onHide,a=e.show;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z.a,{size:"lg",show:a,onHide:t,"aria-labelledby":"example-modal-sizes-title-lg"},i.a.createElement(Z.a.Header,{closeButton:!0},i.a.createElement(Z.a.Title,{id:"example-modal-sizes-title-lg"},"Edit SDK settings:")),i.a.createElement(Z.a.Body,null,"...")))},te=function(){var e=Object(n.useContext)(ae),t=e.QA,a=e.setQA;return t.enabled?i.a.createElement(i.a.Fragment,null,i.a.createElement(Q.a,{className:"fsNavbar qaHeader",fixed:"top"},i.a.createElement(Q.a.Brand,{href:"#",className:"flex item-center"},"QA Mode: ",i.a.createElement("span",{className:"green"},"Enabled")),i.a.createElement(K.a,{className:"mr-auto fsNav"}),i.a.createElement(y.a,{inline:!0},i.a.createElement(K.a.Link,{onClick:function(){return a(Object(l.a)({},t,{enabled:!1}))}},"Switch off"))),i.a.createElement(ee,{onHide:function(){return a(Object(l.a)({},t,{show:Object(l.a)({},t.show,{settingsModal:!1})}))},show:t.show.settingsModal})):null},ae=Object(n.createContext)(null),ne=function(){var e=i.a.useState({envId:I.envId,sdkConfig:Object(l.a)({},I.sdkConfig),visitorData:Object(l.a)({},I.visitorData)}),t=Object(c.a)(e,2),a=t[0],n=t[1],o=i.a.useState({enabled:!1,show:{settingsModal:!1}}),r=Object(c.a)(o,2),f=r[0],h=r[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(ae.Provider,{value:{currentSettings:a,setSettings:n,QA:f,setQA:h}},i.a.createElement(s.FlagshipProvider,{envId:a.envId,config:a.sdkConfig,visitorData:a.visitorData,onInitStart:function(){console.log("React SDK init start")},onInitDone:function(){console.log("React SDK init done")},onUpdate:function(e){var t=e.fsModifications;console.log("React SDK updated with modifications:\n"+JSON.stringify(t))},loadingComponent:i.a.createElement(u.a,{className:"mt5"},i.a.createElement(d.a,null,i.a.createElement(m.a,{xs:12,style:{color:"white",height:"100vh",fontSize:"5vw"}},"Loading Flagship React SDK...")))},i.a.createElement(X,null),i.a.createElement(te,null),i.a.createElement(Y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(144);r.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<a;t++)for(var o=arguments[t],r=0,l=o.length;r<l;r++,i++)n[i]=o[r];return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(0)),c=r(a(99)),s=r(a(104)),u=r(a(105));t.initState={fsVisitor:null,log:null,fsModifications:null,status:{isLoading:!0,firstInitSuccess:null,lastRefresh:null,hasError:!1},private:{previousFetchedModifications:void 0}};var d=l.default.createContext({state:n({},t.initState),setState:null,hasError:!1});t.FlagshipProvider=function(e){var a=e.children,o=e.envId,r=e.config,m=e.visitorData,f=e.loadingComponent,h=e.initialModifications,p=e.onSavingModificationsInCache,v=e.onInitStart,g=e.onInitDone,E=e.onUpdate,y=m.id,b=m.context,S=l.useState(n(n({},t.initState),{log:s.default.getLogger(r),private:n(n({},t.initState.private),{previousFetchedModifications:h})})),C=S[0],F=S[1],k=l.useState({hasError:!1,error:null}),O=k[0],j=k[1],I=C.status,x=I.isLoading,w=I.firstInitSuccess,M=C.fsVisitor,A=function(e){try{e()}catch(t){j({error:t,hasError:!0})}},N=C.private.previousFetchedModifications?n(n({},r),{initialModifications:i(C.private.previousFetchedModifications)}):r;l.useEffect((function(){var e=c.default.start(o,N).createVisitor(y,b);F(n(n({},C),{status:n(n({},C.status),{isLoading:!0}),fsVisitor:e})),v&&A(v),e.on("saveCache",(function(e){p&&A((function(){return p(e)}))})),e.on("ready",(function(){F(n(n({},C),{status:n(n({},C.status),{isLoading:!1,lastRefresh:(new Date).toISOString(),firstInitSuccess:C.status.firstInitSuccess||(new Date).toISOString()}),fsVisitor:e,fsModifications:e.fetchedModifications||null,private:{previousFetchedModifications:e.fetchedModifications||void 0}})),g&&A(g)}))}),[o,y,JSON.stringify(r)+JSON.stringify(b)]),l.useEffect((function(){E&&A((function(){E({fsModifications:C.fsModifications},C.fsVisitor)}))}),[C]);return l.default.createElement(d.Provider,{value:{state:C,setState:F,hasError:O.hasError}},l.default.createElement(u.default,{customerChildren:a,onError:function(e){j({error:e,hasError:!!e})},error:O.error,sdkSettings:r,log:C.log},!x||!f||M&&w?l.default.createElement(l.default.Fragment,null,a):l.default.createElement(l.default.Fragment,null,f)))},t.FlagshipProvider.defaultProps={config:{enableErrorLayout:!1},loadingComponent:void 0,initialModifications:void 0,onInitStart:function(){},onInitDone:function(){},onSavingModificationsInCache:function(){},onUpdate:function(){}},t.FlagshipConsumer=d.Consumer,t.default=d,t.useFlagshipContext=function(){return l.useContext(d)}},85:function(e,t,a){e.exports=a.p+"static/media/Flagship-horizontal-product-white.6e8b90f3.png"},9:function(e,t,a){"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(69)),n(a(106))},90:function(e,t,a){e.exports=a(145)},97:function(e,t,a){},98:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.171ff191.chunk.js.map